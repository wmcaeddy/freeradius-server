# 32-bit PrivacyIDEA Configuration
# This configuration is optimized for 32-bit environments

# Generate a proper secret key
import secrets
SECRET_KEY = secrets.token_hex(32)

# Database - using separate database for 32-bit instance
SQLALCHEMY_DATABASE_URI = 'sqlite:////home/eddy/github/freeradius-server/pi-32bit.db'
SQLALCHEMY_TRACK_MODIFICATIONS = False

# Logging - separate log file for 32-bit instance
PI_LOGFILE = '/home/eddy/github/freeradius-server/pi-32bit.log'
PI_LOGLEVEL = 'INFO'

# Disable audit key requirements
PI_AUDIT_MODULE = 'privacyidea.lib.auditmodules.loggeraudit'
PI_AUDIT_KEY_PRIVATE = None
PI_AUDIT_KEY_PUBLIC = None
PI_API_AUDIT_KEY_REQUIRED = False

# VASCO library - 32-bit specific configuration
# Note: Using libvacman.so naming convention for PrivacyIDEA VASCO backend
PI_VASCO_LIBRARY = '/opt/vasco/libvacman.so'

# Basic pepper
PI_PEPPER = 'default-pepper-32bit-change-in-production'

# 32-bit specific settings
ARCHITECTURE = 'i386'
PLATFORM = 'linux/386'

# Performance settings for 32-bit systems
SQLALCHEMY_POOL_SIZE = 5
SQLALCHEMY_MAX_OVERFLOW = 0
SQLALCHEMY_POOL_TIMEOUT = 30
SQLALCHEMY_POOL_RECYCLE = 3600

# Security settings
PI_AUDIT_PRIVATE_KEY_FILE = None
PI_AUDIT_PUBLIC_KEY_FILE = None

# Token settings
PI_TOKEN_SETTINGS = {
    'default_tokentype': 'VASCO',
    'default_sync_window': 1000,
    'default_otplen': 6,
    'default_count_window': 50
}